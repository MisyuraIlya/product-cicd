server {

    listen 80;
    index index.php;
    server_name localhost;
    root /var/www/project/public;
    error_log /var/log/nginx/project_error.log;
    access_log /var/log/nginx/project_access.log;

    location / {
        # try to serve file directly, fallback to index.php
        try_files $uri /index.php$is_args$args;
    }

    location ~ ^/index\.php(/|$) {
        # Your PHP backend configuration
        fastcgi_pass php81-service:9000;
        # Other PHP configuration directives...
    }

    location ~ \.php$ {
        # Return 404 for PHP files not matching the front controller
        return 404;
    }

    location /react {
        # Proxy pass to the React development server
        proxy_pass http://localhost:3000;
        # Proxy configuration options if needed...
    }
}
